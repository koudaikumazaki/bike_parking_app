# BIKE_PARKING_APP

## アプリ概要
バイクの駐輪場検索を便利にするサービスです。
検索したワードから緯度経度を算出し、その周辺1km以内の駐輪場を検索できます。
また、現在地周辺の駐輪場も検索できるので、外出先での急な駐輪場検索にも対応しております。
※完全に独学で開発致しました。

<img src="/README_images/screen_shot.png">

## URL 
https://parking-search.com/

## 開発環境構築方法

```
git clone https://github.com/koudaikumazaki/bike_parking_app
docker-compose build
docker-compose up
```

## テストコードの流し方

```
docker-compose run web bin/rspec
```

## 使用技術
- フロントエンド
  - HTML/CSS
  - Javascript
  - tailwind
- バックエンド
  - Ruby: 2.6.6
  - Rails: 6.1.0
- インフラ・開発環境
  - MySQL: ５.7
  - Nginx
  - Puma
  - Docker/docker-compose
  - AWS(EC2・RDS・S3・ACM・VPC・Route53・ALB)
  - CircleCI（CI/CD）
- テスト・静的コード解析
  - Rspec
  - Rubocop

## 機能一覧
- ログイン機能（devise）
- 簡単ログイン機能
- 画像投稿（aws-fog, carrierwave）
- 画像投稿時のプレビュー表示
- 投稿確認、編集、削除、新規作成
- お気に入り登録機能（Ajax）
- 検索機能
- 緯度経度取得（geocoder）
- 住所から緯度経度変換（Geocoding API）
- 緯度経度から住所に変換（Reverse Geocoding API）
- Googlemap表示（Google Maps JavaScript API）
- テスト（RSpec・capybara）
- ruby構文規約チェックツール(rubocop)
- ページネーション機能(kaminari)
- 管理者による投稿承認機能(ActiveAdmin)
- 検索ワードで取得した投稿の並び替え
- 現在地の取得機能

## インフラ設計図
<img src= '/README/infra.png' >

## 今後の開発予定
- Vue.jsを用いてのアプリケーションのSPA化
- 投稿数に応じてポイントを付与する機能の実装（たまったポイントはバイク用品の購入時に使用できることを想定）
- バイクの排気量ごとに検索をフィルタリングする機能の実装


## 開発背景
　私は趣味でツーリングをするのですが、ツーリング時の駐輪場を探すのにいつも手間取っていました。具体的には以下の点によって手間取っていました。

- GoogleMapで駐輪場と検索しても自転車の駐輪場や月極の駐輪場などが出てしまい、本当に欲しい時間貸の駐輪場が探せない。
- 日本二輪車普及安全協会の全国バイク駐輪場案内を使用すると、検索機能が不十分（具体的には値段の安い順や収容台数順での並び替えが出来ない）
- バイク駐輪場＆ツーリングスポット検索というアプリ（現在ではアプリが削除されている）を使用すると、マンションの居住者専用の駐輪場や、不正確な情報が掲載されてしまっていて使い勝手がよくない。

以上の問題点があるため、ツーリング時の駐輪場探しが不便でした。
そこで、このようなアプリを開発することでツーリング時の駐輪場検索が少しでも楽になるようにと考えております。

## 工夫した点
- スマホでの使用が主となるはずなので、レスポンシブデザインを意識
- 既存のアプリの問題点を解決するために、管理者が承認ずみの投稿しか表示されないようにした。
- 検索オプションを追加（現在地から近い順・収容台数が多い順・駐輪料金が安い順）することで、既存のアプリやwebサイトよりも利便性を高くした。
- テストとデプロイを効率化するために、CircleCIを用いてCI/CDパイプラインの構築を行った。
- リージョンによる遅延を解消するために東京リージョンのあるEC2を使用。

## 現時点での問題点
- 投稿者の投稿ありきのアプリケーションなので、データ数が圧倒的に少ない。
→投稿者が投稿してくれるような仕組み作り（投稿数に応じてポイントが付与され、そのポイントをバイク用品の購入時などに使用できるようなもの）を実装予定。 
- 現在地の取得に時間がかかる。
